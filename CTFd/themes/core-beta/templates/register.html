{% extends "base.html" %}

{% block content %}
<style>
@font-face {
  font-family: 'MonaspaceKrypton';
  src: url("{{ url_for('views.themes', path='fonts/MonaspaceKrypton-Light.otf') }}") format('opentype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
body, .container, .jumbotron, .row, .form-group, .form-control, .btn, .btn-custom {
  font-family: 'MonaspaceKrypton', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
}
.btn-custom, .btn-primary {
  background-color: #7AFFC7;
  color: #1F2021;
  border-color: #7AFFC7;
  font-weight: 600;
  border-radius: .25rem;
  min-width: 240px;
  padding: .8rem 1.5rem;
  transition: background 0.2s, color 0.2s;
}
.btn-custom:hover, .btn-primary:hover, .btn-custom:focus, .btn-primary:focus {
  background-color: #9FFFDc;
  color: #0b0f10;
  border-color: #9FFFDc;
  text-decoration: none;
}
.jumbotron h1 {
  color: #7AFFC7;
  font-weight: 600;
  letter-spacing: 2px;
  margin-bottom: 1.25rem;
}
.form-control {
  background: #23272b;
  color: #7AFFC7;
  border: 1px solid #7AFFC7;
}
.form-control:focus {
  background: #23272b;
  color: #7AFFC7;
  border-color: #9FFFDc;
  box-shadow: none;
}
a {
  color: #7AFFC7;
}
a:hover {
  color: #9FFFDc;
}
</style>
<div class="jumbotron">
  <div class="container">
    <h1 style="font-family: MonaspaceKrypton;">
      {% trans %}Register{% endtrans %}
    </h1>
  </div>
</div>

<div class="container">
  <div class="row">
    <div class="col-md-8 col offset-md-2 col-lg-6 offset-lg-3">
      {% include "components/errors.html" %}

      {% if integrations.mlc() %}
        <a class="btn btn-secondary btn-lg btn-block w-100" href="{{ url_for('auth.oauth_login') }}">
          Login with Major League Cyber
        </a>
        <hr>
      {% endif %}

      {% with form = Forms.auth.RegistrationForm() %}
        {% from "macros/forms.html" import render_extra_fields %}
        <form method="post" accept-charset="utf-8" role="form">
          <div class="mb-3">
            <b>{{ form.name.label(class="form-label") }}</b>
            {{ form.name(class="form-control", value=name, autocomplete="username") }}
            <small class="form-text text-muted">
              {% trans %}Your username on the site{% endtrans %}
            </small>
          </div>
          <div class="mb-3">
            <b>{{ form.email.label(class="form-label") }}</b>
            {{ form.email(class="form-control", value=email, autocomplete="email") }}
            <small class="form-text text-muted">
              {% trans %}Never shown to the public{% endtrans %}
            </small>
          </div>
          <div class="mb-3">
            <b>{{ form.password.label(class="form-label") }}</b>
            {{ form.password(class="form-control", value=password, autocomplete="new-password") }}
            <small class="form-text text-muted">
              {% trans %}Password used to log into your account{% endtrans %}
            </small>
          </div>
          {{ form.nonce() }}
          {{ render_extra_fields(form.extra) }}
          <div class="row pt-3">
            <div class="col-6 col-md-4 offset-6 offset-md-8">
              {{ form.submit(class="btn btn-block btn-primary w-100") }}
            </div>
          </div>
          {% if Configs.tos_or_privacy %}
            <div class="row pt-3">
              <div class="col-md-12 text-center">
                <small class="text-muted text-center">
                  {% trans trimmed privacy_link=Configs.privacy_link, tos_link=Configs.tos_link %}
                  By registering, you agree to the
                  <a href="{{ privacy_link }}" target="_blank">privacy policy</a>
                  and <a href="{{ tos_link }}" target="_blank">terms of service</a>
                  {% endtrans %}
                </small>
              </div>
            </div>
          {% endif %}
        </form>
      {% endwith %}
    </div>
  </div>
</div>
{% endblock %}
